version: '3.8'
services:
  spm-ui-upgrade-helper:
    build: .
    image: spm-ui-upgrade-helper
    container_name: spm-ui-upgrade-helper
    ports:
      - "3000:3000"  
    depends_on: 
      - nodefront
  beanparser:
    build: 
      context: https://github.com/IBM/spm-ui-upgrade-helper/blob/8c5772a24a9f2c7116b0c3a69e66164de8e1f688/spm-ui-upgrade-helper.sh/packages/window-size-tool/parser
      dockerfile: Dockerfile
    image: spm-ui-upgrade-helper_beanparser
    container_name: spm-ui-upgrade-helper_beanparser
    volumes:
      - ./packages/window-size-tool/parser/real_input:/usr/src/sabparser/input
  nodefront:
    build:
      context: https://github.com/IBM/spm-ui-upgrade-helper/blob/8c5772a24a9f2c7116b0c3a69e66164de8e1f688/spm-ui-upgrade-helper.sh/packages/window-size-tool/parser/frontend
      dockerfile: Dockerfile
    image: spm-ui-upgrade-helper_nodefront
    container_name: spm-ui-upgrade-helper_nodefront
    ports:
      - "4005:4005"
    volumes:
      - ./packages/window-size-tool/parser/frontend/src:/app/src
    # depends_on:
    #   -  beanparser